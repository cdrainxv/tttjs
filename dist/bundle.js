!function(e){var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,r){if(!w[e]||!_[e])return;for(var t in _[e]=!1,r)Object.prototype.hasOwnProperty.call(r,t)&&(h[t]=r[t]);0==--v&&0===m&&E()}(e,t),r&&r(e,t)};var t,n=!0,o="681e18962af1a96fc6a6",i=1e4,a={},c=[],s=[];function d(e){var r=j[e];if(!r)return k;var n=function(n){return r.hot.active?(j[n]?-1===j[n].parents.indexOf(e)&&j[n].parents.push(e):(c=[e],t=n),-1===r.children.indexOf(n)&&r.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),c=[]),k(n)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return k[e]},set:function(r){k[e]=r}}};for(var i in k)Object.prototype.hasOwnProperty.call(k,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,o(i));return n.e=function(e){return"ready"===u&&p("prepare"),m++,k.e(e).then(r,function(e){throw r(),e});function r(){m--,"prepare"===u&&(b[e]||x(e),0===m&&0===v&&E())}},n.t=function(e,r){return 1&r&&(e=n(e)),k.t(e,-2&r)},n}var l=[],u="idle";function p(e){u=e;for(var r=0;r<l.length;r++)l[r].call(null,e)}var f,h,y,v=0,m=0,b={},_={},w={};function g(e){return+e+""===e?+e:e}function O(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return n=e,p("check"),(r=i,r=r||1e4,new Promise(function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var n=new XMLHttpRequest,i=k.p+""+o+".hot-update.json";n.open("GET",i,!0),n.timeout=r,n.send(null)}catch(e){return t(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)t(new Error("Manifest request to "+i+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)t(new Error("Manifest request to "+i+" failed."));else{try{var r=JSON.parse(n.responseText)}catch(e){return void t(e)}e(r)}}})).then(function(e){if(!e)return p("idle"),null;_={},b={},w=e.c,y=e.h,p("prepare");var r=new Promise(function(e,r){f={resolve:e,reject:r}});h={};return x(0),"prepare"===u&&0===m&&0===v&&E(),r});var r}function x(e){w[e]?(_[e]=!0,v++,function(e){var r=document.createElement("script");r.charset="utf-8",r.src=k.p+""+e+"."+o+".hot-update.js",document.head.appendChild(r)}(e)):b[e]=!0}function E(){p("ready");var e=f;if(f=null,e)if(n)Promise.resolve().then(function(){return P(n)}).then(function(r){e.resolve(r)},function(r){e.reject(r)});else{var r=[];for(var t in h)Object.prototype.hasOwnProperty.call(h,t)&&r.push(g(t));e.resolve(r)}}function P(r){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var t,n,i,s,d;function l(e){for(var r=[e],t={},n=r.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var o=n.pop(),i=o.id,a=o.chain;if((s=j[i])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(s.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var c=0;c<s.parents.length;c++){var d=s.parents[c],l=j[d];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([d]),moduleId:i,parentId:d};-1===r.indexOf(d)&&(l.hot._acceptedDependencies[i]?(t[d]||(t[d]=[]),f(t[d],[i])):(delete t[d],r.push(d),n.push({chain:a.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:r,outdatedDependencies:t}}function f(e,r){for(var t=0;t<r.length;t++){var n=r[t];-1===e.indexOf(n)&&e.push(n)}}r=r||{};var v={},m=[],b={},_=function(){console.warn("[HMR] unexpected require("+x.moduleId+") to disposed module")};for(var O in h)if(Object.prototype.hasOwnProperty.call(h,O)){var x;d=g(O);var E=!1,P=!1,D=!1,C="";switch((x=h[O]?l(d):{type:"disposed",moduleId:O}).chain&&(C="\nUpdate propagation: "+x.chain.join(" -> ")),x.type){case"self-declined":r.onDeclined&&r.onDeclined(x),r.ignoreDeclined||(E=new Error("Aborted because of self decline: "+x.moduleId+C));break;case"declined":r.onDeclined&&r.onDeclined(x),r.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+x.moduleId+" in "+x.parentId+C));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(x),r.ignoreUnaccepted||(E=new Error("Aborted because "+d+" is not accepted"+C));break;case"accepted":r.onAccepted&&r.onAccepted(x),P=!0;break;case"disposed":r.onDisposed&&r.onDisposed(x),D=!0;break;default:throw new Error("Unexception type "+x.type)}if(E)return p("abort"),Promise.reject(E);if(P)for(d in b[d]=h[d],f(m,x.outdatedModules),x.outdatedDependencies)Object.prototype.hasOwnProperty.call(x.outdatedDependencies,d)&&(v[d]||(v[d]=[]),f(v[d],x.outdatedDependencies[d]));D&&(f(m,[x.moduleId]),b[d]=_)}var H,A=[];for(n=0;n<m.length;n++)d=m[n],j[d]&&j[d].hot._selfAccepted&&A.push({module:d,errorHandler:j[d].hot._selfAccepted});p("dispose"),Object.keys(w).forEach(function(e){!1===w[e]&&function(e){delete installedChunks[e]}(e)});for(var M,I,T=m.slice();T.length>0;)if(d=T.pop(),s=j[d]){var S={},R=s.hot._disposeHandlers;for(i=0;i<R.length;i++)(t=R[i])(S);for(a[d]=S,s.hot.active=!1,delete j[d],delete v[d],i=0;i<s.children.length;i++){var U=j[s.children[i]];U&&((H=U.parents.indexOf(d))>=0&&U.parents.splice(H,1))}}for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(s=j[d]))for(I=v[d],i=0;i<I.length;i++)M=I[i],(H=s.children.indexOf(M))>=0&&s.children.splice(H,1);for(d in p("apply"),o=y,b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d]);var q=null;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(s=j[d])){I=v[d];var L=[];for(n=0;n<I.length;n++)if(M=I[n],t=s.hot._acceptedDependencies[M]){if(-1!==L.indexOf(t))continue;L.push(t)}for(n=0;n<L.length;n++){t=L[n];try{t(I)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:d,dependencyId:I[n],error:e}),r.ignoreErrored||q||(q=e)}}}for(n=0;n<A.length;n++){var X=A[n];d=X.module,c=[d];try{k(d)}catch(e){if("function"==typeof X.errorHandler)try{X.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:t,originalError:e}),r.ignoreErrored||q||(q=t),q||(q=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:d,error:e}),r.ignoreErrored||q||(q=e)}}return q?(p("fail"),Promise.reject(q)):(p("idle"),new Promise(function(e){e(m)}))}var j={};function k(r){if(j[r])return j[r].exports;var n=j[r]={i:r,l:!1,exports:{},hot:function(e){var r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:t!==e,active:!0,accept:function(e,t){if(void 0===e)r._selfAccepted=!0;else if("function"==typeof e)r._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)r._acceptedDependencies[e[n]]=t||function(){};else r._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)r._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)r._declinedDependencies[e[t]]=!0;else r._declinedDependencies[e]=!0},dispose:function(e){r._disposeHandlers.push(e)},addDisposeHandler:function(e){r._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=r._disposeHandlers.indexOf(e);t>=0&&r._disposeHandlers.splice(t,1)},check:O,apply:P,status:function(e){if(!e)return u;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var r=l.indexOf(e);r>=0&&l.splice(r,1)},data:a[e]};return t=void 0,r}(r),parents:(s=c,c=[],s),children:[]};return e[r].call(n.exports,n,n.exports,d(r)),n.l=!0,n.exports}k.m=e,k.c=j,k.d=function(e,r,t){k.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},k.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},k.t=function(e,r){if(1&r&&(e=k(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(k.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)k.d(t,n,function(r){return e[r]}.bind(null,n));return t},k.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return k.d(r,"a",r),r},k.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},k.p="",k.h=function(){return o},d(2)(k.s=2)}([function(e,r){e.exports=((e,r=2,t=!1)=>{let n=[];for(var o=0;o<e.length;o+=r)n.push(e.slice(o,o+r));return t?n.filter(e=>e.length===r):n})},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(!Array.isArray(e))throw new TypeError("flip-array: Make sure you pass an `{Array[]} array`.");var r=[];return e.forEach(function(e,t){if(!Array.isArray(e))throw new TypeError("flip-array: Make sure you pass a two-dimensional `{Array[]} array`. The item at index "+t+" is not an array.");e.forEach(function(e,n){r[n]||(r[n]=[]),r[n][t]=e})}),r},e.exports=r.default},function(e,r,t){"use strict";t.r(r);var n=t(0),o=t.n(n);class i{constructor(e,r){this._name=e,this._marker=r}get name(){return this._name}get marker(){return this._marker}}var a=t(1),c=t.n(a);class s{constructor(e=null){this._board=e||Array(9).fill("")}get state(){return this._board}reset(){this._board=Array(9).fill("")}cellAvailable(e){return""===this._board[e]}addMarker(e,r){return!!this.cellAvailable(e)&&(this._board[e]=r,!0)}availableCells(){return this._board.filter(e=>""===e)}full(){return this._board.every(e=>""!==e)}winCombo(e){const r=o()(this._board,3);return this.winHorizontal(r,e)||this.winVertical(r,e)||this.winDiagonal(r,e)}winHorizontal(e,r){return e.some(e=>e.every(e=>e===r))}winDiagonal(e,r){return e.every((e,t)=>e[t]===r)||e.every((e,t)=>e[3-t-1]===r)}winVertical(e,r){return c()(e).some(e=>e.every(e=>e===r))}}class d{constructor(){this._playerX=new i("X","x"),this._playerO=new i("O","o"),this._board=new s,this._currentPlayer=this.randomPlayerStart([this._playerX,this._playerO])}get board(){return this._board}get currentPlayer(){return this._currentPlayer}randomPlayerStart(e){return e[(()=>Math.floor(2*Math.random()))()]}switchTurns(){this._currentPlayer=this._currentPlayer===this._playerO?this._playerX:this._playerO}gameOver(){return this.victory()||this.draw()}victory(){return this._board.winCombo(this._currentPlayer.marker)}draw(){return this._board.full()}}(()=>{const e=document.getElementById("content"),r=document.getElementById("game-board"),t=new d,n=(e,r)=>{const t=document.createElement(e);return r&&(t.classList=r),t},i=(e,r)=>(r.forEach(r=>{e.appendChild(r)}),e),a=()=>{const e=n("div","column");e.style.justifyContent="center";const o=n("p","has-text-centered title is-1");return t.victory()?o.textContent=`${t.currentPlayer.name} won!`:o.textContent="It's a stalemate!",e.appendChild(o),i(r,[e])},c=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},s=()=>{const e=[];t.board.state.forEach((r,o)=>{const i=n("div","has-background-link column is-half title is-1 has-text-centered has-text-light");i.style.width="100px",i.style.height="100px",i.style.marginRight="10px",i.style.borderRadius="50%",i.style.lineHeight="60px",i.style.cursor="pointer",i.style.fontSize="5rem",i.addEventListener("click",e=>{((e,r)=>{t.gameOver()||(t.board.addMarker(r,t.currentPlayer.marker),e.target.textContent=t.currentPlayer.marker,t.gameOver()?a():t.switchTurns())})(e,o)}),e.push(i)});const c=(e=>{const r=o()(e,3),t=[];return r.forEach(e=>{const r=n("div","columns");r.style.justifyContent="center";const o=i(r,[...e]);t.push(o)}),t})(e);return i(r,[...c])};return{init:()=>{(()=>{const r=n("h1","title is-1 has-text-centered");r.textContent="TTT",r.style.margin="50px 0",e.prepend(r)})(),(()=>{const o=n("button","button is-link is-large");o.style.margin="50px auto",o.textContent="Reset",o.addEventListener("click",()=>{c(r),t.board.reset(),s()}),e.appendChild(o)})(),(()=>{const r=n("div","columns"),t=n("div");t.style.margin="0 auto";const o=n("p","title is-3 has-text-centered"),i=n("a","is-link");i.textContent="cdrainxv",i.href="https://github.com/tttjs",o.innerHTML="&copy; 2019 by ",o.appendChild(i),t.appendChild(o),r.appendChild(t),e.appendChild(r)})(),s()}}})().init()}]);